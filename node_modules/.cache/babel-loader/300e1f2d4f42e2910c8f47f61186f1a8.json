{"remainingRequest":"C:\\backend\\freshpal_frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\backend\\freshpal_frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\backend\\freshpal_frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\backend\\freshpal_frontend\\src\\components\\startpage\\RestorePassword.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\backend\\freshpal_frontend\\src\\components\\startpage\\RestorePassword.vue","mtime":1662497845231},{"path":"C:\\backend\\freshpal_frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1617757409661},{"path":"C:\\backend\\freshpal_frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1617757408246},{"path":"C:\\backend\\freshpal_frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1617757409661},{"path":"C:\\backend\\freshpal_frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1655403882721}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8gQCBpcyBhbiBhbGlhcyB0byAvc3JjCmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnc3RhcnRwYWdlJywKICBjb21wb25lbnRzOiB7fSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdG9rZW46IG51bGwsCiAgICAgIHBhc3N3b3JkOiBudWxsLAogICAgICBwYXNzd29yZF9hZ2FpbjogbnVsbCwKICAgICAgYWNjZXNzOiBmYWxzZSwKICAgICAgZXJyX3Bhc3N3b3JkOiBmYWxzZSwKICAgICAgcmVzdWx0OiBmYWxzZQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGNoZWNrX2FjY2VzczogZnVuY3Rpb24gY2hlY2tfYWNjZXNzKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgYXhpb3MucG9zdCh0aGlzLiRob3N0bmFtZSArICcvYXBpL3N0YXJ0cGFnZS9yZXN0b3JlX3Bhc3N3b3JkL2NoZWNrX2FjY2Vzcy8nLCB7CiAgICAgICAgdG9rZW46IHRoaXMudG9rZW4KICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXMuYWNjZXNzID0gcmVzLmRhdGE7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICByZXR1cm4gY29uc29sZS5sb2coZXJyKTsKICAgICAgfSk7CiAgICB9LAogICAgcmVzdG9yZV9wYXM6IGZ1bmN0aW9uIHJlc3RvcmVfcGFzKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIGlmICh0aGlzLnBhc3N3b3JkID09IHRoaXMucGFzc3dvcmRfYWdhaW4pIHsKICAgICAgICB0aGlzLmVycl9wYXNzd29yZCA9IGZhbHNlOwogICAgICAgIGF4aW9zLnBvc3QodGhpcy4kaG9zdG5hbWUgKyAnL2FwaS9zdGFydHBhZ2UvcmVzdG9yZV9wYXNzd29yZC9yZXN0b3JlX3Bhcy8nLCB7CiAgICAgICAgICB0b2tlbjogdGhpcy50b2tlbiwKICAgICAgICAgIHBhc3N3b3JkOiB0aGlzLnBhc3N3b3JkCiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwogICAgICAgICAgX3RoaXMyLnJlc3VsdCA9IHRydWU7CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKGVycik7CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5lcnJfcGFzc3dvcmQgPSB0cnVlOwogICAgICB9CiAgICB9LAogICAgbG9naW46IGZ1bmN0aW9uIGxvZ2luKCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnLycpOwogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMudG9rZW4gPSB0aGlzLiRyb3V0ZS5wYXJhbXMudG9rZW47CiAgICB0aGlzLmNoZWNrX2FjY2VzcygpOwogIH0KfTs="},{"version":3,"sources":["RestorePassword.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+BA;AACA,OAAA,KAAA,MAAA,OAAA;AAGA,eAAA;AACA,EAAA,IAAA,EAAA,WADA;AAEA,EAAA,UAAA,EAAA,EAFA;AAMA,EAAA,IANA,kBAMA;AACA,WAAA;AAEA,MAAA,KAAA,EAAA,IAFA;AAGA,MAAA,QAAA,EAAA,IAHA;AAIA,MAAA,cAAA,EAAA,IAJA;AAKA,MAAA,MAAA,EAAA,KALA;AAMA,MAAA,YAAA,EAAA,KANA;AAOA,MAAA,MAAA,EAAA;AAPA,KAAA;AASA,GAhBA;AAkBA,EAAA,OAAA,EAAA;AACA,IAAA,YADA,0BACA;AAAA;;AAEA,MAAA,KAAA,CAAA,IAAA,CAAA,KAAA,SAAA,GAAA,+CAAA,EAAA;AACA,QAAA,KAAA,EAAA,KAAA;AADA,OAAA,EAGA,IAHA,CAGA,UAAA,GAAA,EAAA;AACA,QAAA,KAAA,CAAA,MAAA,GAAA,GAAA,CAAA,IAAA;AACA,OALA,EAMA,KANA,CAMA,UAAA,GAAA;AAAA,eAAA,OAAA,CAAA,GAAA,CAAA,GAAA,CAAA;AAAA,OANA;AAOA,KAVA;AAWA,IAAA,WAXA,yBAWA;AAAA;;AACA,UAAA,KAAA,QAAA,IAAA,KAAA,cAAA,EAAA;AACA,aAAA,YAAA,GAAA,KAAA;AACA,QAAA,KAAA,CAAA,IAAA,CAAA,KAAA,SAAA,GAAA,8CAAA,EAAA;AACA,UAAA,KAAA,EAAA,KAAA,KADA;AAEA,UAAA,QAAA,EAAA,KAAA;AAFA,SAAA,EAIA,IAJA,CAIA,UAAA,GAAA,EAAA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,GAAA;AACA,UAAA,MAAA,CAAA,MAAA,GAAA,IAAA;AACA,SAPA,EAQA,KARA,CAQA,UAAA,GAAA;AAAA,iBAAA,OAAA,CAAA,GAAA,CAAA,GAAA,CAAA;AAAA,SARA;AASA,OAXA,MAYA;AACA,aAAA,YAAA,GAAA,IAAA;AACA;AACA,KA3BA;AA4BA,IAAA,KA5BA,mBA4BA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA,GAAA;AACA;AA9BA,GAlBA;AAmDA,EAAA,OAnDA,qBAmDA;AACA,SAAA,KAAA,GAAA,KAAA,MAAA,CAAA,MAAA,CAAA,KAAA;AACA,SAAA,YAAA;AACA;AAtDA,CAAA","sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"reset_pas_div\">\r\n    <div style=\"text-align: center\" class=\"div-style\" v-if=\"this.access == true && this.result == false\">\r\n      <form @submit.prevent=\"restore_pas()\">\r\n              <p>\r\n                <input class=\"input_style\" id=\"password\" v-model=\"password\" placeholder=\"Новый пароль\" type=\"password\" name=\"password\" required minlength=\"8\" pattern=\"(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,}\">\r\n              </p>\r\n              <p>\r\n                <input class=\"input_style\" id=\"password_again\" placeholder=\"Подтверждение пароля\" type=\"password\" v-model=\"password_again\" name=\"password_again\" required minlength=\"8\" pattern=\"(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,}\">\r\n              </p>\r\n              <p>\r\n                  <button class=\"button_style\" type=\"submit\">Изменить</button>\r\n              </p>\r\n          </form>\r\n        <div v-if=\"this.err_password == true\">\r\n          <p style=\"color: #f9185f;\">Пароли не совпадают.</p>\r\n      </div>\r\n      </div>\r\n      <div style=\"text-align: center\" class=\"div-style\" v-if=\"this.result == true\">\r\n          <p>Пароль изменен.</p>\r\n          <p><button class=\"button_style\" type=\"submit\" v-on:click=\"login()\">Войти</button></p>\r\n      </div>\r\n      <div class=\"div-style\" v-if=\"this.access == false\">\r\n          Нет данных о пользователе.\r\n      </div>\r\n  </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// @ is an alias to /src\r\nimport axios from 'axios'\r\n\r\n\r\nexport default {\r\n  name: 'startpage',\r\n  components: {\r\n\r\n  },\r\n\r\n  data(){\r\n      return{\r\n\r\n        token: null,\r\n        password: null,\r\n        password_again: null,\r\n        access: false,\r\n        err_password: false,\r\n        result: false,\r\n      }\r\n  },\r\n\r\n  methods: {\r\n    check_access(){\r\n\r\n          axios.post(this.$hostname + '/api/startpage/restore_password/check_access/', {\r\n              token: this.token,\r\n          })\r\n              .then(res => {\r\n                  this.access = res.data\r\n              })\r\n              .catch(err => console.log(err))\r\n      },\r\n      restore_pas(){\r\n        if (this.password == this.password_again) {\r\n            this.err_password = false;\r\n            axios.post(this.$hostname + '/api/startpage/restore_password/restore_pas/', {\r\n                token: this.token,\r\n                password: this.password,\r\n            })\r\n                .then(res => {\r\n                    console.log(res);\r\n                    this.result = true;\r\n                })\r\n                .catch(err => console.log(err))\r\n        }\r\n        else{\r\n            this.err_password = true\r\n        }\r\n      },\r\n      login(){\r\n        this.$router.push('/')\r\n      },\r\n\r\n  },\r\n  created() {\r\n    this.token = this.$route.params.token;\r\n    this.check_access()\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n    .div-style{\r\n        width: 250px;\r\n        top: 200px;\r\n        margin: 200px auto;\r\n    }\r\n    .reset_pas_div{\r\n        position: fixed;\r\n        top: 0;\r\n        left: 0;\r\n        width: 100%;\r\n        height: 100%;\r\n        background: #0c0c0c;\r\n    }\r\n</style>\r\n"],"sourceRoot":"src/components/startpage"}]}