{"remainingRequest":"C:\\freshpal\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\freshpal\\frontend\\src\\components\\startpage\\Authorization.vue?vue&type=style&index=0&id=53b7b54a&scoped=true&lang=css&","dependencies":[{"path":"C:\\freshpal\\frontend\\src\\components\\startpage\\Authorization.vue","mtime":1616194448008},{"path":"C:\\freshpal\\frontend\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\freshpal\\frontend\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\freshpal\\frontend\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\freshpal\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\freshpal\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgogICAgLyogRXJpYyBNZXllcidzIENTUyBSZXNldCAqLwpodG1sLCBib2R5LCBkaXYsIHNwYW4sIGFwcGxldCwgb2JqZWN0LCBpZnJhbWUsCmgxLCBoMiwgaDMsIGg0LCBoNSwgaDYsIHAsIGJsb2NrcXVvdGUsIHByZSwKYSwgYWJiciwgYWNyb255bSwgYWRkcmVzcywgYmlnLCBjaXRlLCBjb2RlLApkZWwsIGRmbiwgZW0sIGltZywgaW5zLCBrYmQsIHEsIHMsIHNhbXAsCnNtYWxsLCBzdHJpa2UsIHN0cm9uZywgc3ViLCBzdXAsIHR0LCB2YXIsCmIsIHUsIGksIGNlbnRlciwKZGwsIGR0LCBkZCwgb2wsIHVsLCBsaSwKZmllbGRzZXQsIGZvcm0sIGxhYmVsLCBsZWdlbmQsCnRhYmxlLCBjYXB0aW9uLCB0Ym9keSwgdGZvb3QsIHRoZWFkLCB0ciwgdGgsIHRkLAphcnRpY2xlLCBhc2lkZSwgY2FudmFzLCBkZXRhaWxzLCBlbWJlZCwKZmlndXJlLCBmaWdjYXB0aW9uLCBmb290ZXIsIGhlYWRlciwgaGdyb3VwLAptZW51LCBuYXYsIG91dHB1dCwgcnVieSwgc2VjdGlvbiwgc3VtbWFyeSwKdGltZSwgbWFyaywgYXVkaW8sIHZpZGVvIHsKCW1hcmdpbjogMDsKCXBhZGRpbmc6IDA7Cglib3JkZXI6IDA7Cglmb250LXNpemU6IDEwMCU7Cglmb250OiBpbmhlcml0OwoJdmVydGljYWwtYWxpZ246IGJhc2VsaW5lOwp9Ci8qIEhUTUw1IGRpc3BsYXktcm9sZSByZXNldCBmb3Igb2xkZXIgYnJvd3NlcnMgKi8KYXJ0aWNsZSwgYXNpZGUsIGRldGFpbHMsIGZpZ2NhcHRpb24sIGZpZ3VyZSwKZm9vdGVyLCBoZWFkZXIsIGhncm91cCwgbWVudSwgbmF2LCBzZWN0aW9uIHsKCWRpc3BsYXk6IGJsb2NrOwp9CmJvZHkgewoJbGluZS1oZWlnaHQ6IDE7Cn0Kb2wsIHVsIHsKCWxpc3Qtc3R5bGU6IG5vbmU7Cn0KYmxvY2txdW90ZSwgcSB7CglxdW90ZXM6IG5vbmU7Cn0KYmxvY2txdW90ZTpiZWZvcmUsIGJsb2NrcXVvdGU6YWZ0ZXIsCnE6YmVmb3JlLCBxOmFmdGVyIHsKCWNvbnRlbnQ6ICcnOwoJY29udGVudDogbm9uZTsKfQp0YWJsZSB7Cglib3JkZXItY29sbGFwc2U6IGNvbGxhcHNlOwoJYm9yZGVyLXNwYWNpbmc6IDA7Cn0KLyogRW5kIG9mIEVyaWMgTWV5ZXIncyBDU1MgUmVzZXQgKi8KCmh0bWwgewoJaGVpZ2h0OiAxMDAlOwp9CmFydGljbGUsIGFzaWRlLCBkZXRhaWxzLCBmaWdjYXB0aW9uLCBmaWd1cmUsIGZvb3RlciwgaGVhZGVyLCBoZ3JvdXAsIG1haW4sIG5hdiwgc2VjdGlvbiwgc3VtbWFyeSB7CglkaXNwbGF5OiBibG9jazsKfQpib2R5IHsKCWZvbnQ6IDEycHgvMThweCBBcmlhbCwgc2Fucy1zZXJpZjsKCWhlaWdodDogMTAwJTsKfQoud3JhcHBlciB7Cgl3aWR0aDogMTAwJTsKCW1pbi13aWR0aDogMTAwMHB4OwoJbWluLWhlaWdodDogMTAwJTsKCWhlaWdodDogYXV0byAhaW1wb3J0YW50OwoJaGVpZ2h0OiAxMDAlOwp9CgoKLyogSGVhZGVyCi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi8KLmhlYWRlciB7CgloZWlnaHQ6IDEwMHB4OwoJYmFja2dyb3VuZDogI0ZGRTY4MDsKfQoKCi8qIE1pZGRsZQotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovCi5taWRkbGUgewoJd2lkdGg6IDEwMCU7CglwYWRkaW5nOiAwIDAgNTBweDsKCXBvc2l0aW9uOiByZWxhdGl2ZTsKCn0KLm1pZGRsZTphZnRlciB7CglkaXNwbGF5OiB0YWJsZTsKCWNsZWFyOiBib3RoOwoJY29udGVudDogJyc7Cn0KLmNvbnRhaW5lciB7Cgl3aWR0aDogMTAwJTsKCWZsb2F0OiBsZWZ0OwoJb3ZlcmZsb3c6IGhpZGRlbjsKfQouY29udGVudCB7CglwYWRkaW5nOiAwIDUyMHB4IDAgMDsKfQoKCi8qIExlZnQgU2lkZWJhcgotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovCi5sZWZ0LXNpZGViYXIgewoJZmxvYXQ6IGxlZnQ7CgltYXJnaW4tbGVmdDogLTU1MHB4OwoJd2lkdGg6IDM1MHB4OwoJcG9zaXRpb246IHJlbGF0aXZlOwoJYmFja2dyb3VuZDogI0I1RTNGRjsKfQoubGVmdC1zaWRlYmFyLTIgewoJZmxvYXQ6IGxlZnQ7CgltYXJnaW4tbGVmdDogLTU1MHB4OwoJbWFyZ2luLXRvcDogMjAwcHg7Cgl3aWR0aDogMzUwcHg7Cglwb3NpdGlvbjogcmVsYXRpdmU7CgliYWNrZ3JvdW5kOiAjQjVFM0ZGOwp9CgovKiBSaWdodCBTaWRlYmFyCi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi8KLnJpZ2h0LXNpZGViYXIgewoJZmxvYXQ6IGxlZnQ7CgltYXJnaW4tbGVmdDogLTIwMHB4OwoJd2lkdGg6IDIwMHB4OwoJcG9zaXRpb246IHJlbGF0aXZlOwoJYmFja2dyb3VuZDogI0ZGQUNBQTsKfQoKCi8qIEZvb3RlcgotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovCi5mb290ZXIgewoJbWFyZ2luOiAtNTBweCBhdXRvIDA7CgltaW4td2lkdGg6IDEwMDBweDsKCWhlaWdodDogNTBweDsKCWJhY2tncm91bmQ6ICNCRkYwOEU7Cglwb3NpdGlvbjogcmVsYXRpdmU7Cn0K"},{"version":3,"sources":["Authorization.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0KA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Authorization.vue","sourceRoot":"src/components/startpage","sourcesContent":["<template>\r\n  <div class=\"home\">\r\n    <header class=\"header\">\r\n\t\t<strong>Header:</strong> Lorem ipsum dolor sit amet, consectetur adipiscing elit. Cras tortor. Praesent dictum, libero ut tempus dictum, neque eros elementum mauris, quis mollis arcu velit ac diam. Etiam neque. Quisque nec turpis. Aliquam arcu nulla, dictum et, lacinia a, mollis in, ante. Sed eu felis in elit tempor venenatis. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Ut ultricies porttitor purus. Proin non tellus at ligula fringilla tristique. Fusce vehicula quam. Curabitur vel tortor vitae pede imperdiet ultrices. Sed tortor.\r\n\t</header><!-- .header-->\r\n    <div v-if=\"this.register == false\">\r\n        <br>\r\n        <p v-if=\"this.err_pas == true\">\r\n            Неверный пароль.\r\n        </p>\r\n        <div v-if=\"authorization_check == true && this.access_token == null\">\r\n            <p>\r\n              <input id=\"username\" size=\"sm\" class=\"mr-sm-2\" v-model=\"username\" placeholder=\"Имя пользователя\" name=\"username\"></input>\r\n            </p>\r\n            <p>\r\n              <input id=\"password\" size=\"sm\" class=\"mr-sm-2\" placeholder=\"Пароль\" type=\"password\" v-model=\"password\" name=\"password\"></input>\r\n            </p>\r\n        </div>\r\n        <div v-if=\"authorization_check == false\">\r\n            <p>\r\n              <input id=\"email\" size=\"sm\" class=\"mr-sm-2\" v-model=\"email\" placeholder=\"Ваша почта\" name=\"email\"></input>\r\n            </p>\r\n            <p>\r\n                <button size=\"sm\" class=\"my-2 my-sm-0\" type=\"submit\">Восстановить пароль</button>\r\n            </p>\r\n        </div>\r\n        <div v-if=\"this.access_token == null\">\r\n            <p>\r\n                <button size=\"sm\" class=\"my-2 my-sm-0\" type=\"submit\" v-on:click=\"login(true)\">Войти</button>\r\n            </p>\r\n         </div>\r\n          <div v-if=\"this.access_token != null\">\r\n            <p>\r\n                <button size=\"sm\" class=\"my-2 my-sm-0\" type=\"submit\" v-on:click=\"logout()\">Выйти</button>\r\n            </p>\r\n         </div>\r\n        <div v-if=\"authorization_check == true\">\r\n            <p>\r\n              <button size=\"sm\" class=\"my-2 my-sm-0\" type=\"submit\" v-on:click=\"authorization_switch(false)\">Забыли пароль?</button>\r\n            </p>\r\n            <p>\r\n              <button size=\"sm\" class=\"my-2 my-sm-0\" type=\"submit\" v-on:click=\"register_f(true)\">Регистрация</button>\r\n            </p>\r\n        </div>\r\n\r\n  </div>\r\n  <div v-if=\"this.register == true\">\r\n      <Registration/>\r\n      <p>\r\n          <button size=\"sm\" class=\"my-2 my-sm-0\" type=\"submit\" v-on:click=\"register_f(false)\">Войти</button>\r\n      </p>\r\n  </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// @ is an alias to /src\r\nimport axios from 'axios'\r\nimport Registration from \"./Registration\"\r\n\r\n\r\nexport default {\r\n  name: 'Home',\r\n  components: {\r\n    Registration\r\n  },\r\n  data() {\r\n      return{\r\n          url: 'http://127.0.0.1:8000',\r\n          username: '',\r\n          password: '',\r\n          authorization_check: true,\r\n          register: false,\r\n          name: '',\r\n          get_name: null,\r\n\r\n          access_token: localStorage.getItem('access') || null,\r\n          refresh_token: localStorage.getItem('refresh') || null,\r\n\r\n          err_pas: false,\r\n      }\r\n  },\r\n   methods:{\r\n      authorization_switch(flag){\r\n          this.authorization_check = flag;\r\n      },\r\n      login(flag){\r\n          this.authorization_check = flag;\r\n          axios.post(this.url + '/api/token/', {\r\n            username: this.username,\r\n            password: this.password,\r\n          })\r\n          .then(response => {\r\n              this.access_token = response.data.access;\r\n              this.refresh_token = response.data.refresh;\r\n              localStorage.setItem('access',response.data.access);\r\n              localStorage.setItem('refresh',response.data.refresh);\r\n              this.get_user_data()\r\n              this.err_pas = false;\r\n          })\r\n          .catch(err => {\r\n              this.err_pas = true;\r\n              localStorage.removeItem('access');\r\n              localStorage.removeItem('refresh');\r\n          })\r\n      },\r\n      logout(){\r\n          localStorage.removeItem('access');\r\n          localStorage.removeItem('refresh');\r\n          this.access_token = null;\r\n          this.refresh_token = null;\r\n          this.get_name = null;\r\n      },\r\n      register_f(type){\r\n          this.err_pas = false;\r\n          this.register = type\r\n      },\r\n\r\n      get_new_tokens(){\r\n        axios.post(this.url + '/api/token/refresh/', {\r\n            refresh: this.refresh_token,\r\n          })\r\n          .then(response => {\r\n              this.access_token = response.data.access;\r\n              this.refresh_token = response.data.refresh;\r\n              localStorage.setItem('access',response.data.access);\r\n              localStorage.setItem('refresh',response.data.refresh);\r\n              this.get_user_data()\r\n          })\r\n          .catch(err => {\r\n              localStorage.removeItem('access');\r\n              localStorage.removeItem('refresh');\r\n              this.access_token = null;\r\n              this.refresh_token = null;\r\n          })\r\n      },\r\n\r\n      get_user_data(){\r\n\r\n        axios.post(this.url + '/api/mainpage/userdata/get_user_data/', {\r\n\r\n        },{\r\n            headers: {\r\n                'Authorization': 'Bearer ' + this.access_token,\r\n            }\r\n        })\r\n          .then(response => {\r\n              this.get_name = response.data;\r\n              var url_page = '/'+ this.get_name\r\n              this.$router.push(url_page)\r\n          })\r\n          .catch(err => {\r\n              console.log(err);\r\n              this.get_new_tokens()\r\n          })\r\n      }\r\n   },\r\n   created() {\r\n      this.access_token = localStorage.getItem('access');\r\n      this.refresh_token = localStorage.getItem('refresh');\r\n\r\n      if (this.access_token != null){\r\n        this.get_user_data()\r\n      }\r\n\r\n   }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n    /* Eric Meyer's CSS Reset */\r\nhtml, body, div, span, applet, object, iframe,\r\nh1, h2, h3, h4, h5, h6, p, blockquote, pre,\r\na, abbr, acronym, address, big, cite, code,\r\ndel, dfn, em, img, ins, kbd, q, s, samp,\r\nsmall, strike, strong, sub, sup, tt, var,\r\nb, u, i, center,\r\ndl, dt, dd, ol, ul, li,\r\nfieldset, form, label, legend,\r\ntable, caption, tbody, tfoot, thead, tr, th, td,\r\narticle, aside, canvas, details, embed,\r\nfigure, figcaption, footer, header, hgroup,\r\nmenu, nav, output, ruby, section, summary,\r\ntime, mark, audio, video {\r\n\tmargin: 0;\r\n\tpadding: 0;\r\n\tborder: 0;\r\n\tfont-size: 100%;\r\n\tfont: inherit;\r\n\tvertical-align: baseline;\r\n}\r\n/* HTML5 display-role reset for older browsers */\r\narticle, aside, details, figcaption, figure,\r\nfooter, header, hgroup, menu, nav, section {\r\n\tdisplay: block;\r\n}\r\nbody {\r\n\tline-height: 1;\r\n}\r\nol, ul {\r\n\tlist-style: none;\r\n}\r\nblockquote, q {\r\n\tquotes: none;\r\n}\r\nblockquote:before, blockquote:after,\r\nq:before, q:after {\r\n\tcontent: '';\r\n\tcontent: none;\r\n}\r\ntable {\r\n\tborder-collapse: collapse;\r\n\tborder-spacing: 0;\r\n}\r\n/* End of Eric Meyer's CSS Reset */\r\n\r\nhtml {\r\n\theight: 100%;\r\n}\r\narticle, aside, details, figcaption, figure, footer, header, hgroup, main, nav, section, summary {\r\n\tdisplay: block;\r\n}\r\nbody {\r\n\tfont: 12px/18px Arial, sans-serif;\r\n\theight: 100%;\r\n}\r\n.wrapper {\r\n\twidth: 100%;\r\n\tmin-width: 1000px;\r\n\tmin-height: 100%;\r\n\theight: auto !important;\r\n\theight: 100%;\r\n}\r\n\r\n\r\n/* Header\r\n-----------------------------------------------------------------------------*/\r\n.header {\r\n\theight: 100px;\r\n\tbackground: #FFE680;\r\n}\r\n\r\n\r\n/* Middle\r\n-----------------------------------------------------------------------------*/\r\n.middle {\r\n\twidth: 100%;\r\n\tpadding: 0 0 50px;\r\n\tposition: relative;\r\n\r\n}\r\n.middle:after {\r\n\tdisplay: table;\r\n\tclear: both;\r\n\tcontent: '';\r\n}\r\n.container {\r\n\twidth: 100%;\r\n\tfloat: left;\r\n\toverflow: hidden;\r\n}\r\n.content {\r\n\tpadding: 0 520px 0 0;\r\n}\r\n\r\n\r\n/* Left Sidebar\r\n-----------------------------------------------------------------------------*/\r\n.left-sidebar {\r\n\tfloat: left;\r\n\tmargin-left: -550px;\r\n\twidth: 350px;\r\n\tposition: relative;\r\n\tbackground: #B5E3FF;\r\n}\r\n.left-sidebar-2 {\r\n\tfloat: left;\r\n\tmargin-left: -550px;\r\n\tmargin-top: 200px;\r\n\twidth: 350px;\r\n\tposition: relative;\r\n\tbackground: #B5E3FF;\r\n}\r\n\r\n/* Right Sidebar\r\n-----------------------------------------------------------------------------*/\r\n.right-sidebar {\r\n\tfloat: left;\r\n\tmargin-left: -200px;\r\n\twidth: 200px;\r\n\tposition: relative;\r\n\tbackground: #FFACAA;\r\n}\r\n\r\n\r\n/* Footer\r\n-----------------------------------------------------------------------------*/\r\n.footer {\r\n\tmargin: -50px auto 0;\r\n\tmin-width: 1000px;\r\n\theight: 50px;\r\n\tbackground: #BFF08E;\r\n\tposition: relative;\r\n}\r\n</style>\r\n"]}]}