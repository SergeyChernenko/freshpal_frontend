{"remainingRequest":"C:\\freshpal\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\freshpal\\frontend\\src\\components\\startpage\\RestorePassword.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\freshpal\\frontend\\src\\components\\startpage\\RestorePassword.vue","mtime":1617659894622},{"path":"C:\\freshpal\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1617659880191},{"path":"C:\\freshpal\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1617659878785},{"path":"C:\\freshpal\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1617659880191},{"path":"C:\\freshpal\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1617659893513}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQovLyBAIGlzIGFuIGFsaWFzIHRvIC9zcmMNCmltcG9ydCBheGlvcyBmcm9tICdheGlvcycNCg0KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICdzdGFydHBhZ2UnLA0KICBjb21wb25lbnRzOiB7DQoNCiAgfSwNCg0KICBkYXRhKCl7DQogICAgICByZXR1cm57DQogICAgICAgIHVybDogJ2h0dHA6Ly8xMjcuMC4wLjE6ODAwMCcsDQogICAgICAgIHRva2VuOiBudWxsLA0KICAgICAgICBwYXNzd29yZDogbnVsbCwNCiAgICAgICAgcGFzc3dvcmRfYWdhaW46IG51bGwsDQogICAgICAgIGFjY2VzczogZmFsc2UsDQogICAgICAgIGVycl9wYXNzd29yZDogZmFsc2UsDQogICAgICAgIHJlc3VsdDogZmFsc2UsDQogICAgICB9DQogIH0sDQoNCiAgbWV0aG9kczogew0KICAgIGNoZWNrX2FjY2Vzcygpew0KDQogICAgICAgICAgYXhpb3MucG9zdCh0aGlzLnVybCArICcvYXBpL3N0YXJ0cGFnZS9yZXN0b3JlX3Bhc3N3b3JkL2NoZWNrX2FjY2Vzcy8nLCB7DQogICAgICAgICAgICAgIHRva2VuOiB0aGlzLnRva2VuLA0KICAgICAgICAgIH0pDQogICAgICAgICAgICAgIC50aGVuKHJlcyA9PiB7DQogICAgICAgICAgICAgICAgICB0aGlzLmFjY2VzcyA9IHJlcy5kYXRhDQogICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4gY29uc29sZS5sb2coZXJyKSkNCiAgICAgIH0sDQogICAgICByZXN0b3JlX3Bhcygpew0KICAgICAgICBpZiAodGhpcy5wYXNzd29yZCA9PSB0aGlzLnBhc3N3b3JkX2FnYWluKSB7DQogICAgICAgICAgICB0aGlzLmVycl9wYXNzd29yZCA9IGZhbHNlOw0KICAgICAgICAgICAgYXhpb3MucG9zdCh0aGlzLnVybCArICcvYXBpL3N0YXJ0cGFnZS9yZXN0b3JlX3Bhc3N3b3JkL3Jlc3RvcmVfcGFzLycsIHsNCiAgICAgICAgICAgICAgICB0b2tlbjogdGhpcy50b2tlbiwNCiAgICAgICAgICAgICAgICBwYXNzd29yZDogdGhpcy5wYXNzd29yZCwNCiAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgLnRoZW4ocmVzID0+IHsNCiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzKTsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXN1bHQgPSB0cnVlOw0KICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgLmNhdGNoKGVyciA9PiBjb25zb2xlLmxvZyhlcnIpKQ0KICAgICAgICB9DQogICAgICAgIGVsc2V7DQogICAgICAgICAgICB0aGlzLmVycl9wYXNzd29yZCA9IHRydWUNCiAgICAgICAgfQ0KICAgICAgfSwNCiAgICAgIGxvZ2luKCl7DQogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvJykNCiAgICAgIH0sDQoNCiAgfSwNCiAgY3JlYXRlZCgpIHsNCiAgICB0aGlzLnRva2VuID0gdGhpcy4kcm91dGUucGFyYW1zLnRva2VuOw0KICAgIHRoaXMuY2hlY2tfYWNjZXNzKCkNCiAgfQ0KfQ0K"},{"version":3,"sources":["RestorePassword.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+BA;AACA;;;AAGA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"RestorePassword.vue","sourceRoot":"src/components/startpage","sourcesContent":["<template>\r\n  <div class=\"home\">\r\n    <div class=\"reset_pas_div\">\r\n    <div class=\"div-style\" v-if=\"this.access == true && this.result == false\">\r\n      <form @submit.prevent=\"restore_pas()\">\r\n              <p>\r\n                <input id=\"password\" v-model=\"password\" placeholder=\"Новый пароль\" type=\"password\" name=\"password\" required minlength=\"8\" pattern=\"(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,}\">\r\n              </p>\r\n              <p>\r\n                <input id=\"password_again\" placeholder=\"Подтверждение пароля\" type=\"password\" v-model=\"password_again\" name=\"password_again\" required minlength=\"8\" pattern=\"(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,}\">\r\n              </p>\r\n              <p>\r\n                  <button class=\"button_style\" type=\"submit\">Изменить</button>\r\n              </p>\r\n          </form>\r\n        <div v-if=\"this.err_password == true\">\r\n          <p class=\"err\">Пароли не совпадают.</p>\r\n      </div>\r\n      </div>\r\n      <div class=\"div-style\" v-if=\"this.result == true\">\r\n          <p style=\"text-align:  center\" align=\"left\"><font size=\"4\" color=\"#fcfcfc\" face=\"Trebuchet MS\">Пароль изменен.</font></p>\r\n          <p><button class=\"button_style\" type=\"submit\" v-on:click=\"login()\">Войти</button></p>\r\n      </div>\r\n      <div class=\"div-style\" v-if=\"this.access == false\">\r\n          Нет данных о пользователе.\r\n      </div>\r\n  </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// @ is an alias to /src\r\nimport axios from 'axios'\r\n\r\n\r\nexport default {\r\n  name: 'startpage',\r\n  components: {\r\n\r\n  },\r\n\r\n  data(){\r\n      return{\r\n        url: 'http://127.0.0.1:8000',\r\n        token: null,\r\n        password: null,\r\n        password_again: null,\r\n        access: false,\r\n        err_password: false,\r\n        result: false,\r\n      }\r\n  },\r\n\r\n  methods: {\r\n    check_access(){\r\n\r\n          axios.post(this.url + '/api/startpage/restore_password/check_access/', {\r\n              token: this.token,\r\n          })\r\n              .then(res => {\r\n                  this.access = res.data\r\n              })\r\n              .catch(err => console.log(err))\r\n      },\r\n      restore_pas(){\r\n        if (this.password == this.password_again) {\r\n            this.err_password = false;\r\n            axios.post(this.url + '/api/startpage/restore_password/restore_pas/', {\r\n                token: this.token,\r\n                password: this.password,\r\n            })\r\n                .then(res => {\r\n                    console.log(res);\r\n                    this.result = true;\r\n                })\r\n                .catch(err => console.log(err))\r\n        }\r\n        else{\r\n            this.err_password = true\r\n        }\r\n      },\r\n      login(){\r\n        this.$router.push('/')\r\n      },\r\n\r\n  },\r\n  created() {\r\n    this.token = this.$route.params.token;\r\n    this.check_access()\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n    .div-style{\r\n        width: 250px;\r\n        top: 200px;\r\n        margin: 200px auto;\r\n    }\r\n    .reset_pas_div{\r\n        position: fixed;\r\n        top: 0;\r\n        left: 0;\r\n        width: 100%;\r\n        height: 100%;\r\n        background: #333333;\r\n    }\r\n</style>\r\n"]}]}