{"remainingRequest":"C:\\freshpal\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\freshpal\\frontend\\src\\components\\startpage\\RestorePassword.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\freshpal\\frontend\\src\\components\\startpage\\RestorePassword.vue","mtime":1659822029415},{"path":"C:\\freshpal\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1617757409661},{"path":"C:\\freshpal\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1617757408246},{"path":"C:\\freshpal\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1617757409661},{"path":"C:\\freshpal\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1655403882721}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQovLyBAIGlzIGFuIGFsaWFzIHRvIC9zcmMNCmltcG9ydCBheGlvcyBmcm9tICdheGlvcycNCg0KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICdzdGFydHBhZ2UnLA0KICBjb21wb25lbnRzOiB7DQoNCiAgfSwNCg0KICBkYXRhKCl7DQogICAgICByZXR1cm57DQoNCiAgICAgICAgdG9rZW46IG51bGwsDQogICAgICAgIHBhc3N3b3JkOiBudWxsLA0KICAgICAgICBwYXNzd29yZF9hZ2FpbjogbnVsbCwNCiAgICAgICAgYWNjZXNzOiBmYWxzZSwNCiAgICAgICAgZXJyX3Bhc3N3b3JkOiBmYWxzZSwNCiAgICAgICAgcmVzdWx0OiBmYWxzZSwNCiAgICAgIH0NCiAgfSwNCg0KICBtZXRob2RzOiB7DQogICAgY2hlY2tfYWNjZXNzKCl7DQoNCiAgICAgICAgICBheGlvcy5wb3N0KHRoaXMuJGhvc3RuYW1lICsgJy9hcGkvc3RhcnRwYWdlL3Jlc3RvcmVfcGFzc3dvcmQvY2hlY2tfYWNjZXNzLycsIHsNCiAgICAgICAgICAgICAgdG9rZW46IHRoaXMudG9rZW4sDQogICAgICAgICAgfSkNCiAgICAgICAgICAgICAgLnRoZW4ocmVzID0+IHsNCiAgICAgICAgICAgICAgICAgIHRoaXMuYWNjZXNzID0gcmVzLmRhdGENCiAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgLmNhdGNoKGVyciA9PiBjb25zb2xlLmxvZyhlcnIpKQ0KICAgICAgfSwNCiAgICAgIHJlc3RvcmVfcGFzKCl7DQogICAgICAgIGlmICh0aGlzLnBhc3N3b3JkID09IHRoaXMucGFzc3dvcmRfYWdhaW4pIHsNCiAgICAgICAgICAgIHRoaXMuZXJyX3Bhc3N3b3JkID0gZmFsc2U7DQogICAgICAgICAgICBheGlvcy5wb3N0KHRoaXMuJGhvc3RuYW1lICsgJy9hcGkvc3RhcnRwYWdlL3Jlc3RvcmVfcGFzc3dvcmQvcmVzdG9yZV9wYXMvJywgew0KICAgICAgICAgICAgICAgIHRva2VuOiB0aGlzLnRva2VuLA0KICAgICAgICAgICAgICAgIHBhc3N3b3JkOiB0aGlzLnBhc3N3b3JkLA0KICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICAudGhlbihyZXMgPT4gew0KICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpOw0KICAgICAgICAgICAgICAgICAgICB0aGlzLnJlc3VsdCA9IHRydWU7DQogICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICAuY2F0Y2goZXJyID0+IGNvbnNvbGUubG9nKGVycikpDQogICAgICAgIH0NCiAgICAgICAgZWxzZXsNCiAgICAgICAgICAgIHRoaXMuZXJyX3Bhc3N3b3JkID0gdHJ1ZQ0KICAgICAgICB9DQogICAgICB9LA0KICAgICAgbG9naW4oKXsNCiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy8nKQ0KICAgICAgfSwNCg0KICB9LA0KICBjcmVhdGVkKCkgew0KICAgIHRoaXMudG9rZW4gPSB0aGlzLiRyb3V0ZS5wYXJhbXMudG9rZW47DQogICAgdGhpcy5jaGVja19hY2Nlc3MoKQ0KICB9DQp9DQo="},{"version":3,"sources":["RestorePassword.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+BA;AACA;;;AAGA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"RestorePassword.vue","sourceRoot":"src/components/startpage","sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"reset_pas_div\">\r\n    <div style=\"text-align: center\" class=\"div-style\" v-if=\"this.access == true && this.result == false\">\r\n      <form @submit.prevent=\"restore_pas()\">\r\n              <p>\r\n                <input class=\"input_style\" id=\"password\" v-model=\"password\" placeholder=\"Новый пароль\" type=\"password\" name=\"password\" required minlength=\"8\" pattern=\"(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,}\">\r\n              </p>\r\n              <p>\r\n                <input class=\"input_style\" id=\"password_again\" placeholder=\"Подтверждение пароля\" type=\"password\" v-model=\"password_again\" name=\"password_again\" required minlength=\"8\" pattern=\"(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,}\">\r\n              </p>\r\n              <p>\r\n                  <button class=\"button_style\" type=\"submit\">Изменить</button>\r\n              </p>\r\n          </form>\r\n        <div v-if=\"this.err_password == true\">\r\n          <p style=\"color: #f9185f;\">Пароли не совпадают.</p>\r\n      </div>\r\n      </div>\r\n      <div style=\"text-align: center\" class=\"div-style\" v-if=\"this.result == true\">\r\n          <p>Пароль изменен.</p>\r\n          <p><button class=\"button_style\" type=\"submit\" v-on:click=\"login()\">Войти</button></p>\r\n      </div>\r\n      <div class=\"div-style\" v-if=\"this.access == false\">\r\n          Нет данных о пользователе.\r\n      </div>\r\n  </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// @ is an alias to /src\r\nimport axios from 'axios'\r\n\r\n\r\nexport default {\r\n  name: 'startpage',\r\n  components: {\r\n\r\n  },\r\n\r\n  data(){\r\n      return{\r\n\r\n        token: null,\r\n        password: null,\r\n        password_again: null,\r\n        access: false,\r\n        err_password: false,\r\n        result: false,\r\n      }\r\n  },\r\n\r\n  methods: {\r\n    check_access(){\r\n\r\n          axios.post(this.$hostname + '/api/startpage/restore_password/check_access/', {\r\n              token: this.token,\r\n          })\r\n              .then(res => {\r\n                  this.access = res.data\r\n              })\r\n              .catch(err => console.log(err))\r\n      },\r\n      restore_pas(){\r\n        if (this.password == this.password_again) {\r\n            this.err_password = false;\r\n            axios.post(this.$hostname + '/api/startpage/restore_password/restore_pas/', {\r\n                token: this.token,\r\n                password: this.password,\r\n            })\r\n                .then(res => {\r\n                    console.log(res);\r\n                    this.result = true;\r\n                })\r\n                .catch(err => console.log(err))\r\n        }\r\n        else{\r\n            this.err_password = true\r\n        }\r\n      },\r\n      login(){\r\n        this.$router.push('/')\r\n      },\r\n\r\n  },\r\n  created() {\r\n    this.token = this.$route.params.token;\r\n    this.check_access()\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n    .div-style{\r\n        width: 250px;\r\n        top: 200px;\r\n        margin: 200px auto;\r\n    }\r\n    .reset_pas_div{\r\n        position: fixed;\r\n        top: 0;\r\n        left: 0;\r\n        width: 100%;\r\n        height: 100%;\r\n        background: #0c0c0c;\r\n    }\r\n</style>\r\n"]}]}