{"remainingRequest":"C:\\freshpal\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\freshpal\\frontend\\src\\components\\userpage\\ListComponent.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\freshpal\\frontend\\src\\components\\userpage\\ListComponent.vue","mtime":1656363964469},{"path":"C:\\freshpal\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1617757409661},{"path":"C:\\freshpal\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1617757408246},{"path":"C:\\freshpal\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1617757409661},{"path":"C:\\freshpal\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1655403882721}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBWdWUgZnJvbSAndnVlJwppbXBvcnQgUG9zdENvbXBvbmVudCBmcm9tICcuL1Bvc3RDb21wb25lbnQudnVlJwppbXBvcnQgVnVlQ29tcG9zaXRpb25BUEkgZnJvbSAnQHZ1ZS9jb21wb3NpdGlvbi1hcGknCmltcG9ydCB7IHJlZiwgb25Nb3VudGVkLCBvblVubW91bnRlZCB9IGZyb20gJ0B2dWUvY29tcG9zaXRpb24tYXBpJwppbXBvcnQgZ2V0UG9zdHMgZnJvbSAnLi4vLi4vaGVscGVycy9wb3N0LWxvYWRlcicKVnVlLnVzZShWdWVDb21wb3NpdGlvbkFQSSkKCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICJMaXN0Q29tcG9uZW50IiwKICAgIGNvbXBvbmVudHM6IHsKICAgICAgICBQb3N0Q29tcG9uZW50CiAgICB9LAogICAgZGF0YSgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICBkYXRhX3JldHVybjogbnVsbCwKICAgICAgICB9CiAgICB9LAogICAgbWV0aG9kczogewogICAgICAgIHRlc3RfZigpewogICAgICAgICAgICB2YXIgc2Nyb2xsQ29tcG9uZW50ID0gcmVmKG51bGwpCiAgICAgICAgICAgIHRoaXMuZGF0YV9yZXR1cm4gPSBzY3JvbGxDb21wb25lbnQKICAgICAgICB9CiAgICB9LAoKICAgIHNldHVwKCl7CiAgICAgICAgY29uc3QgcG9zdHMgPSByZWYoZ2V0UG9zdHMoMTIpKQogICAgICAgIGNvbnN0IHNjcm9sbENvbXBvbmVudCA9IHJlZihudWxsKQoKICAgICAgICBjb25zdCBsb2FkTW9yZVBvc3RzID0gKCkgPT4gewogICAgICAgICAgICBsZXQgbmV3UG9zdHMgPSBnZXRQb3N0cyg1KQogICAgICAgICAgICBwb3N0cy52YWx1ZS5wdXNoKC4uLm5ld1Bvc3RzKQogICAgICAgIH0KICAgICAgICBvbk1vdW50ZWQoKCkgPT4gewogICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigic2Nyb2xsIiwgaGFuZGxlU2Nyb2xsKQogICAgICAgIH0pCiAgICAgICAgb25Vbm1vdW50ZWQoKCkgPT4gewogICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigic2Nyb2xsIiwgaGFuZGxlU2Nyb2xsKQogICAgICAgIH0pCiAgICAgICAgY29uc3QgaGFuZGxlU2Nyb2xsID0gKGUpID0+IHsKICAgICAgICAgICAgbGV0IGVsZW1lbnQgPSBzY3JvbGxDb21wb25lbnQudmFsdWUKICAgICAgICAgICAgaWYgKGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuYm90dG9tIDwgd2luZG93LmlubmVySGVpZ2h0KSB7CiAgICAgICAgICAgICAgICBhbGVydCgxKQogICAgICAgICAgICAgICAgbG9hZE1vcmVQb3N0cygpCiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHJldHVybnsKICAgICAgICAgICAgcG9zdHMsCiAgICAgICAgICAgIHNjcm9sbENvbXBvbmVudCwKICAgICAgICB9CiAgICB9LAogICAgY3JlYXRlZCgpIHsKICAgICAgICB0aGlzLnRlc3RfZigpCiAgICB9Cn0KCg=="},{"version":3,"sources":["ListComponent.vue"],"names":[],"mappings":";;;;;;;;;;;;;AAaA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ListComponent.vue","sourceRoot":"src/components/userpage","sourcesContent":["<template>\r\n    <div class=\"background_main\">\r\n    <div class=\"center\">\r\n    <div ref=\"scrollComponent\">\r\n    <post-component v-for=\"post in posts\"\r\n                    :post=\"post\"\r\n    />\r\n    </div>\r\n    </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import Vue from 'vue'\r\n    import PostComponent from './PostComponent.vue'\r\n    import VueCompositionAPI from '@vue/composition-api'\r\n    import { ref, onMounted, onUnmounted } from '@vue/composition-api'\r\n    import getPosts from '../../helpers/post-loader'\r\n    Vue.use(VueCompositionAPI)\r\n\r\n    export default {\r\n        name: \"ListComponent\",\r\n        components: {\r\n            PostComponent\r\n        },\r\n        data() {\r\n            return {\r\n                data_return: null,\r\n            }\r\n        },\r\n        methods: {\r\n            test_f(){\r\n                var scrollComponent = ref(null)\r\n                this.data_return = scrollComponent\r\n            }\r\n        },\r\n\r\n        setup(){\r\n            const posts = ref(getPosts(12))\r\n            const scrollComponent = ref(null)\r\n\r\n            const loadMorePosts = () => {\r\n                let newPosts = getPosts(5)\r\n                posts.value.push(...newPosts)\r\n            }\r\n            onMounted(() => {\r\n                window.addEventListener(\"scroll\", handleScroll)\r\n            })\r\n            onUnmounted(() => {\r\n                window.removeEventListener(\"scroll\", handleScroll)\r\n            })\r\n            const handleScroll = (e) => {\r\n                let element = scrollComponent.value\r\n                if (element.getBoundingClientRect().bottom < window.innerHeight) {\r\n                    alert(1)\r\n                    loadMorePosts()\r\n                }\r\n            }\r\n\r\n            return{\r\n                posts,\r\n                scrollComponent,\r\n            }\r\n        },\r\n        created() {\r\n            this.test_f()\r\n        }\r\n    }\r\n\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"]}]}