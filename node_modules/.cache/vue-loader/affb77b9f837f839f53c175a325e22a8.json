{"remainingRequest":"C:\\freshpal\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\freshpal\\frontend\\src\\components\\startpage\\RestorePassword.vue?vue&type=style&index=0&id=3f1c55ab&scoped=true&lang=css&","dependencies":[{"path":"C:\\freshpal\\frontend\\src\\components\\startpage\\RestorePassword.vue","mtime":1657662181229},{"path":"C:\\freshpal\\frontend\\node_modules\\css-loader\\dist\\cjs.js","mtime":1617757411975},{"path":"C:\\freshpal\\frontend\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1617757425677},{"path":"C:\\freshpal\\frontend\\node_modules\\postcss-loader\\src\\index.js","mtime":1617757419866},{"path":"C:\\freshpal\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1617757409661},{"path":"C:\\freshpal\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1655403882721}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5kaXYtc3R5bGV7CiAgICB3aWR0aDogMjUwcHg7CiAgICB0b3A6IDIwMHB4OwogICAgbWFyZ2luOiAyMDBweCBhdXRvOwp9Ci5yZXNldF9wYXNfZGl2ewogICAgcG9zaXRpb246IGZpeGVkOwogICAgdG9wOiAwOwogICAgbGVmdDogMDsKICAgIHdpZHRoOiAxMDAlOwogICAgaGVpZ2h0OiAxMDAlOwogICAgYmFja2dyb3VuZDogIzEyMTIxMjsKfQo="},{"version":3,"sources":["RestorePassword.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"RestorePassword.vue","sourceRoot":"src/components/startpage","sourcesContent":["<template>\r\n  <div class=\"home\">\r\n    <div class=\"reset_pas_div\">\r\n    <div class=\"div-style\" v-if=\"this.access == true && this.result == false\">\r\n      <form @submit.prevent=\"restore_pas()\">\r\n              <p>\r\n                <input id=\"password\" v-model=\"password\" placeholder=\"Новый пароль\" type=\"password\" name=\"password\" required minlength=\"8\" pattern=\"(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,}\">\r\n              </p>\r\n              <p>\r\n                <input id=\"password_again\" placeholder=\"Подтверждение пароля\" type=\"password\" v-model=\"password_again\" name=\"password_again\" required minlength=\"8\" pattern=\"(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,}\">\r\n              </p>\r\n              <p>\r\n                  <button class=\"button_style\" type=\"submit\">Изменить</button>\r\n              </p>\r\n          </form>\r\n        <div v-if=\"this.err_password == true\">\r\n          <p class=\"err\">Пароли не совпадают.</p>\r\n      </div>\r\n      </div>\r\n      <div class=\"div-style\" v-if=\"this.result == true\">\r\n          <p style=\"text-align:  center\" align=\"left\"><font size=\"4\" color=\"#fcfcfc\" face=\"Trebuchet MS\">Пароль изменен.</font></p>\r\n          <p><button class=\"button_style\" type=\"submit\" v-on:click=\"login()\">Войти</button></p>\r\n      </div>\r\n      <div class=\"div-style\" v-if=\"this.access == false\">\r\n          Нет данных о пользователе.\r\n      </div>\r\n  </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// @ is an alias to /src\r\nimport axios from 'axios'\r\n\r\n\r\nexport default {\r\n  name: 'startpage',\r\n  components: {\r\n\r\n  },\r\n\r\n  data(){\r\n      return{\r\n\r\n        token: null,\r\n        password: null,\r\n        password_again: null,\r\n        access: false,\r\n        err_password: false,\r\n        result: false,\r\n      }\r\n  },\r\n\r\n  methods: {\r\n    check_access(){\r\n\r\n          axios.post(this.$hostname + '/api/startpage/restore_password/check_access/', {\r\n              token: this.token,\r\n          })\r\n              .then(res => {\r\n                  this.access = res.data\r\n              })\r\n              .catch(err => console.log(err))\r\n      },\r\n      restore_pas(){\r\n        if (this.password == this.password_again) {\r\n            this.err_password = false;\r\n            axios.post(this.$hostname + '/api/startpage/restore_password/restore_pas/', {\r\n                token: this.token,\r\n                password: this.password,\r\n            })\r\n                .then(res => {\r\n                    console.log(res);\r\n                    this.result = true;\r\n                })\r\n                .catch(err => console.log(err))\r\n        }\r\n        else{\r\n            this.err_password = true\r\n        }\r\n      },\r\n      login(){\r\n        this.$router.push('/')\r\n      },\r\n\r\n  },\r\n  created() {\r\n    this.token = this.$route.params.token;\r\n    this.check_access()\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n    .div-style{\r\n        width: 250px;\r\n        top: 200px;\r\n        margin: 200px auto;\r\n    }\r\n    .reset_pas_div{\r\n        position: fixed;\r\n        top: 0;\r\n        left: 0;\r\n        width: 100%;\r\n        height: 100%;\r\n        background: #121212;\r\n    }\r\n</style>\r\n"]}]}