<template>
  <div class="color_grey">
	<div style="height: 80px"></div>
	<div class="center">
		<div class="parent">
			<div class="logo">
				<img style="margin-top: 30px; width: 90%" :src="url+'/media/logo_company.svg'">
				<div style="margin-top: 50px">
					<p class="text_startpage">–°–æ—Ü–∏–∞–ª—å–Ω–∞—è —Å–µ—Ç—å, —Å –Ω–æ–≤–æ–π, –æ–±–¥—É–º–∞–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º–æ–π –æ—Ü–µ–Ω–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.
						–£ –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, —É –∫–∞–∂–¥–æ–π –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –µ—Å—Ç—å —Å–≤–æ–π —Å–æ—Ü–∏–∞–ª—å–Ω—ã–π —Ä–µ–π—Ç–∏–Ω–≥.
						–ß–µ–º –±–æ–ª—å—à–µ —Ç–µ–±—è –ª–∞–π–∫–∞—é—Ç, —Ç–µ–º –±–æ–ª—å—à–µ —Ä–∞—Å—Ç–µ—Ç —Ç–≤–æ–π —Ä–µ–π—Ç–∏–Ω–≥ –∏ —Ç–≤–æ—è —Ü–µ–Ω–Ω–æ—Å—Ç—å –ª–∞–π–∫–∞.</p>
					<span class="text_startpage">- –§–æ—Ç–æ –ø—É–ª–∏–∫–∞—Ü–∏–∏, –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏, –ª–∞–π–∫–∏, –¥–∏–∑–ª–∞–π–∫–∏.</span>
					<br>
					<span class="text_startpage">- –õ–µ–Ω—Ç–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–π –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –Ω–∞ –∫–æ—Ç–æ—Ä—ã—Ö –≤—ã –ø–æ–¥–ø–∏—Å–∞–Ω—ã.</span>
					<br>
					<span class="text_startpage">- –û–±—â–∞—è –ª–µ–Ω—Ç–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–π</span>
					<br>
					<span class="text_startpage">- –ü–æ–∏—Å–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –ø—É–±–ª–∏–∫–∞—Ü–∏–π –ø–æ —Ö–µ—à—Ç–µ–≥–∞–º.</span>
					<br>
					<span class="text_startpage">- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –ª–∞–π–∫–∞—Ö, –ø–æ–¥–ø–∏—Å–∫–∞—Ö –∏ —É–ø–æ–º–∏–Ω–∞–Ω–∏—è—Ö.</span>
					<br>
					<span class="text_startpage">- –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∑–∞–ø—Ä–µ—Ç–Ω—ã—Ö —Ç–µ–º –¥–ª—è –ø—É–±–ª–∏–∫–∞—Ü–∏–π –∏ –æ–±—Å—É–∂–¥–µ–Ω–∏–π. –ü–æ–ª–Ω–∞—è —Å–≤–æ–±–æ–¥–∞ —Å–ª–æ–≤–∞!</span>
					<br>
					<span class="text_startpage">- –£–¥–æ–±–Ω—ã–π —Ñ–∏–ª—å—Ç—Ä –¥–ª—è –Ω–µ—Ü–µ–Ω–∑—É—Ä–Ω—ã—Ö —Å–ª–æ–≤ –∏ "–≤–∑—Ä–æ—Å–ª–æ–≥–æ" –∫–æ–Ω—Ç–µ–Ω—Ç–∞.</span>
					<br>
					<span class="text_startpage">- –ò –º–Ω–æ–≥–æ–µ –¥—Ä—É–≥–æ–µ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ</span>
					<p style="margin-top: 10px" class="text_startpage">–ù–∞—Å —É–∂–µ - {{count_users}}. –¢–∞–∫ —á–µ–≥–æ –∂–µ —Ç—ã –∂–¥–µ—à—å? –ü—Ä–∏—Å–æ–µ–¥–∏–Ω—è–π—Å—è —Å–∫–æ—Ä–µ–µ! üòé</p>
				</div>
			</div>


			<div>
				<div class="login">
					<Authorization/>
				</div>
				<div class="register">
					<Registration/>
				</div>
			</div>

		</div>
	</div>



  </div>



</template>

<script>
// @ is an alias to /src
import axios from "axios";



export default {
  name: 'Home',
  components: {

  },

	data() {
      return{
      	access_token: localStorage.getItem('access') || null,
      	url: this.$hostname,
		username: null,
		count_users: null,
	  }
  	},

	methods:{


  		get_count_users(){
  			axios.post(this.$hostname + '/api/startpage/users/count/', {
          })
              .then(res => {
                  this.count_users = res.data;

              })
		},

        get_username(){
			axios.post(this.$hostname + '/api/mainpage/user_profile/get_username/', {
			},{
				headers: {
					'Authorization': 'Bearer ' + this.access_token,
				}
			})
			  .then(response => {
			  	this.username = response.data
				var url_page = '/'+ this.username.username;
				this.$router.push(url_page)
			  })
			  .catch(err => {
			  })
			},

	},

	created(){

  		this.get_count_users()
		if (this.access_token != null){
			this.get_username()
		}

	},
}
</script>

<style scoped>

	.color_grey{
		background: #0c0c0c;

	}
	.center {
		width: 1000px; /* –®–∏—Ä–∏–Ω–∞ —ç–ª–µ–º–µ–Ω—Ç–∞ –≤ –ø–∏–∫—Å–µ–ª–∞—Ö */
		margin: auto; /* –í—ã—Ä–∞–≤–Ω–∏–≤–∞–µ–º –ø–æ —Ü–µ–Ω—Ç—Ä—É */
		min-height: 100vh;
	}

	.logo{
		width: 600px;
		display: flex;
  		flex-flow: column;
	}

    .login{
		width: 270px;
		margin-bottom: 20px;
		padding: 20px;
        background: #191919;
		border-radius: 20px;
		box-shadow: 0px 0px 5px 0px #666666;
		aspect-ratio: 4 / 3;
    }

	.register{
		width: 270px;
        margin-bottom: 20px;
		padding: 20px;
        aspect-ratio: 4 / 1;
        background: #191919;
		border-radius: 20px;
		box-shadow: 0px 0px 5px 0px #666666;
    }


	.parent {
	  display: flex;
	  justify-content: space-between;
	  height: 100%;
	}

	.text_startpage{
		font-family: 'Open Sans', sans-serif;
		font-size: 14pt; /* –†–∞–∑–º–µ—Ä —Ç–µ–∫—Å—Ç–∞ */
		font-weight: lighter; /* –°–≤–µ—Ç–ª–æ–µ –Ω–∞—á–µ—Ä—Ç–∞–Ω–∏–µ */
		color: #fafafa;
	}


</style>
